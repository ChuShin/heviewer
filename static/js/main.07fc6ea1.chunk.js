(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,a){t.exports=a(45)},21:function(t,e,a){},22:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(21),a(7)),s=a(8),u=a(14),i=a(9),f=a(10),p=(a(22),a(13)),d=a(12),m=a.n(d),v=a(57),y=a(53),h=a(54),b=a(59),g=a(55),k=a(4),F=a(56),O=a(58),j=20,E=20,x=50,A=20,w=1600-A-E,B=400-j-x,C=5e6;function S(){}function z(t,e,a,n){var r=["#FF24009F","#E567179F","#FDD0179F","#5FFB179F","#4EE2EC9F","#0041C29F","#E3319D9F","#9C67CA9F","#452E5A9F"],c=(a-t)/e,o=(n-t)/e;return c<=-2&&o<=-2?r[0]:c<-2&&o>-2&&o<2?r[1]:c<=-2&&o>=2?r[2]:c>-2&&c<2&&o<-2?r[3]:c>-2&&c<2&&o>-2&&o<2?r[4]:c>-2&&c<2&&o>2?r[5]:c<=-2&&o>=2?r[6]:c<-2&&o>-2&&o<2?r[7]:c>2&&o>2?r[8]:void 0}function D(t,e,a,n,r){var c=Object(g.a)(t.current);c.selectAll("*").remove();var o=r.key;r.values.forEach(function(t,r){var l=t.values.map(function(t){return[t.covA,t.pos]}),s=t.values.map(function(t){return[-1*t.covB,t.pos]}),u=a[o].mean,i=e(n[t.key].offset)+100,f=Object(F.a)().domain([-3*u,3*u]).range([-60,60]);c.append("g").attr("class","bar-header").attr("transform","translate(0, 12)").style("font","12px helvetica").append("text").append("tspan").text(o);var p=Object(F.a)().domain([0,7e7]).range([0,B]),d=Object(O.b)().scale(p).ticks(6).tickFormat(function(t,e){return t/1e6});c.append("g").attr("transform","translate(50, 20)").style("font","12px helvetica").call(d),c.append("g").attr("transform","translate(50, 20)").selectAll("dot").data(l).enter().append("circle").attr("cx",function(t){return i+f(t[0])}).attr("cy",function(t){return p(t[1])}).attr("r",1.5).style("fill",function(t){return t[0]>80?"#69b3a2":t[0]<10?"#9933a2":"#808080"}),c.append("g").attr("transform","translate(50, 20)").selectAll("dot").data(s).enter().append("circle").attr("cx",function(t){return i+f(t[0])}).attr("cy",function(t){return p(t[1])}).attr("r",1.5).style("fill",function(t){return t[0]<-80?"#9933a2":t[0]>-10?"#69b3a2":"#808080"}),c.append("line").attr("transform","translate(50, 20)").attr("x1",i).attr("y1",p(0)).attr("x2",i).attr("y2",p(n[t.key].chrSize)).style("stroke","black").style("stroke-width",2),c.append("line").attr("transform","translate(50, 20)").attr("x1",i+f(u)).attr("y1",p(0)).attr("x2",i+f(u)).attr("y2",p(n[t.key].chrSize)).style("stroke","#9933a2").style("stroke-width",2),c.append("line").attr("transform","translate(50, 20)").attr("x1",i-f(u)).attr("y1",p(0)).attr("x2",i-f(u)).attr("y2",p(n[t.key].chrSize)).style("stroke","#69b3a2").style("stroke-width",2)})}var G=function(t){var e=t.data,a=Object(n.useRef)(null),c=Object(n.useRef)(null);return Object(n.useEffect)(function(){if(e&&a.current){var t=function(t){var e,a=Object(k.a)().key(function(t){return t.group}).entries(t),n=0,r={};for(e=0;e<a.length;e++){var c=Object(y.a)(a[e].values.map(function(t){return t.pos}));r[a[e].key]={name:a[e].key,chrSize:c,offset:n},n+=c+C}return r.map_size=n,r}(e),n=function(t){var e,a=Object(k.a)().key(function(t){return t.sample}).entries(t),n={};for(e=0;e<a.length;e++)n[a[e].key]={name:a[e].key,mean:Object(h.a)(a[e].values.map(function(t){return t.covA+t.covB}))/2,sd:Object(b.a)(a[e].values.map(function(t){return t.covA}))/2};return n}(e);console.log(t),console.log(n);var r=Object(F.a)().domain([0,t.map_size]).range([0,w-E]),o=Object(F.a)().domain([0,300]).range([0,B]),l=Object(g.a)(a.current);l=l.append("g").attr("transform","translate(".concat(A,", ").concat(j,")"));var s=Object(O.a)().scale(r).ticks(5);l.append("g").attr("transform","translate(50, ".concat(B-x,")")).style("font","16px helvetica").call(s);var u=Object(k.a)().key(function(t){return t.sample}).key(function(t){return t.group}).entries(e);u.forEach(function(e,a){var s=e.key,u=e.values,i=o("".concat(j+20*a));l.append("text").attr("class","y label").attr("x",r(0)).attr("y",i+20).text(s),u.forEach(function(a,o){var u=a.values.map(function(t){return[t.pos,z(n[s].mean,n[s].sd,t.covA,t.covB)]}),f=r(t[a.key].offset);l.append("g").attr("transform","translate(50,0)").append("rect").attr("rx",2).attr("ry",2).attr("x",f).attr("y",i).attr("width",r(t[a.key].chrSize)).attr("height",20).style("fill","#FF2400AF").style("fill-opacity",.1).on("click",function(){D(c,r,n,t,e)}),l.append("g").attr("transform","translate(50,0)").selectAll("line").data(u).enter().append("line").style("stroke",function(t){return t[1]}).attr("chrGroup",a.key).attr("value",function(t){return t[0]}).attr("x1",function(t){return f+r(t[0])}).attr("y1",function(t){return i}).attr("x2",function(t){return f+r(t[0])}).attr("y2",function(t){return i+20}).attr("stroke-width",1)})}),l.append("g").attr("class","bar-header").attr("transform","translate(0, ".concat(j,")")).append("text").append("tspan").text("HE Events"),D(c,r,n,t,u[1])}},[e]),r.a.createElement("div",null,r.a.createElement("svg",{className:"GGLinear",width:w+A+E,height:B+j+x,ref:a}),r.a.createElement("svg",{className:"GGDot",onClick:S,width:w+A+E,height:B+j+x,ref:c}))};function N(t){return{sample:t.sample,group:t.group,pos:+t.pos,geneA:t.geneA,covA:parseFloat(t.covA),geneB:t.geneB,covB:parseFloat(t.covB)}}var L=function(){var t=Object(n.useState)(null),e=Object(p.a)(t,2),a=e[0],c=e[1];return Object(n.useEffect)(function(){Object(v.a)("./data/bna_he.csv",N).then(function(t){c(t)})},[]),null===a?r.a.createElement(m.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e5}):r.a.createElement(G,{data:a})},_=function(t){function e(){return Object(l.a)(this,e),Object(u.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("h2",null,"dashboard")),r.a.createElement(L,null))}}]),e}(n.Component),I=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,60)).then(function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;a(t),n(t),r(t),c(t),o(t)})};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),I()}},[[16,1,2]]]);
//# sourceMappingURL=main.07fc6ea1.chunk.js.map